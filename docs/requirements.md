# 技術ブログ (kollog) 要件定義

## 1. コア・コンセプト
**"Premium Markdown Preview" & "Framework Agnostic Foundation"**
- **Premium Markdown Preview**: Neovimで書いたテキストが、最高に洗練されたデザインで公開される体験。
- **Framework Agnostic Foundation**: 将来的なAstroからJSXベースのフレームワークへの移行を見据えた、ポータビリティの高い設計。

## 2. デザイン方針
- **「究極のドキュメント」感**: StripeやVercelのような機能美と余白のバランス。
- **タイポグラフィの追求**: 日本語の可読性を最優先（行間、字間、フォントウェイトの微調整）。
- **Panda CSS の活用**: フレームワークに依存しないスタイル定義の維持。

## 3. ページ構成
- **トップページ (`/`)**: 最新記事リスト、主要カテゴリ、自己紹介をミニマルに集約。
- **記事一覧 (`/page/[page]`)**: 過去記事のアーカイブ。
- **記事詳細 (`/articles/[slug]`)**: 読了予測時間、追従型目次、関連記事、SNS共有。
- **カテゴリ・タグ一覧**: トピック別の記事分類。
- **About (`/about`)**: 自己紹介、使用技術、外部リンク。
- **RSS/サイトマップ**: 各種フィード配信。

## 4. 重要機能
- **コードブロックの拡張**:
  - ファイル名表示
  - コピーボタン
  - 行ハイライト
  - Shiki による高品質なシンタックスハイライト
- **OGP画像の自動生成**:
  - 記事タイトル等を元にビルド時に生成。
- **MDX カスタムコンポーネント**:
  - リンクカード、コールアウト（Note, Warning等）。

## 5. 将来の移行（ポータビリティ）のための設計指針
- **ロジックの分離**: `.astro` ファイルにはロジックを書かず、`.ts` または `.tsx` (SolidJS) に集約。
- **標準的な MDX/JSX**: Astro固有の記法を避け、移行コストを抑える。

## 6. 開発ロードマップ
### Phase 1: 基礎のデザイン構築 & 移行準備
- トップページのリデザイン。
- ロジックの `.ts/.tsx` への移行・整理。
- タイポグラフィの共通化。

### Phase 2: コードブロックとMDXの強化
- JSXベースのコードブロック・コンポーネント実装。
- カスタムMDXコンポーネントの拡充。

### Phase 3: OGP自動生成と配信最適化
- 移植性の高いOGP生成ロジックの実装。
- Cloudflare R2 / Workers 連携の完成。
